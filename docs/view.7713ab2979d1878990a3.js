(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{45:function(t,e,i){},46:function(t,e,i){},47:function(t,e,i){},48:function(t,e,i){},49:function(t,e,i){},50:function(t,e,i){},51:function(t,e,i){"use strict";var a=i(45);i.n(a).a},52:function(t,e,i){"use strict";var a=i(46);i.n(a).a},53:function(t,e,i){"use strict";var a=i(47);i.n(a).a},54:function(t,e,i){"use strict";var a=i(48);i.n(a).a},55:function(t,e,i){"use strict";var a=i(49);i.n(a).a},56:function(t,e,i){"use strict";var a=i(50);i.n(a).a},57:function(t,e,i){"use strict";i.r(e);i(19),i(7);var a=i(1),n=i.n(a),s=i(8),r=i(9),o=i(6),c=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"h-100"},[e("Nav"),this._v(" "),e("Chatnoir")],1)};c._withStripped=!0;var l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("nav",{staticClass:"navbar fixed-top navbar-expand-lg navbar-light bg-light"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),i("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[t._m(3),t._v(" "),i("ul",{staticClass:"navbar-nav my-0"},[i("li",{staticClass:"nav-item dropdown"},[i("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[i("i",{staticClass:"icon icon-version"}),t._v(" "),i("div",{staticClass:"d-inline-block",staticStyle:{"vertical-align":"top",height:"0","margin-top":"-0.325rem","padding-right":"0.25rem"}},[i("div",{attrs:{id:"server"}},[t._v(t._s(t.currentServer.name))]),t._v(" "),i("div",{staticClass:"m-0",attrs:{id:"version"}},[i("i",{directives:[{name:"show",rawName:"v-show",value:t.isUpdating,expression:"isUpdating"}],staticClass:"material-icons version-text spin"},[t._v("autorenew")]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.isUpdating,expression:"isUpdating"}],staticClass:"version-text"},[t._v("Updating...")]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.isUpdateReady,expression:"isUpdateReady"}],staticClass:"version-text",staticStyle:{"font-weight":"bold",color:"#ff5588"}},[t._v("NEW!")]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:!(t.isUpdating||t.isUpdateReady),expression:"!(isUpdating||isUpdateReady)"}],staticClass:"version-text"},[t._v(t._s(t.currentServer.version))])])])]),t._v(" "),i("ul",{staticClass:"dropdown-menu dropdown-menu-right"},[i("h6",{staticClass:"dropdown-header"},[t._v(t._s(t.Ui.getText("server")))]),t._v(" "),t._l(t.allServers,(function(e){return i("a",{key:e.id,class:["dropdown-item",e.id==t.currentServer.id?"active":""],attrs:{href:"#!/server/"+e.id}},[t._v("\n                        "+t._s(e.name)+"\n                        "),i("p",{staticClass:"m-0",staticStyle:{"font-size":"0.75rem","line-height":"0.75rem"}},[t._v(t._s(e.version))])])})),t._v(" "),i("div",{staticClass:"dropdown-divider",attrs:{id:"serverDivider"}}),t._v(" "),i("h6",{staticClass:"dropdown-header"},[t._v(t._s(t.Ui.getText("externallink")))]),t._v(" "),i("a",{staticClass:"dropdown-item",attrs:{href:"https://colopl.co.jp/alicegearaegis/",target:"_blank",rel:"noopener noreferrer"}},[i("span",{staticClass:"mr-4"},[t._v(t._s(t.Ui.getText("officalsite")))]),t._v(" "),i("i",{staticClass:"material-icons text-black-50",staticStyle:{position:"absolute",right:"1rem"}},[t._v("open_in_new")])]),t._v(" "),i("a",{staticClass:"dropdown-item",attrs:{href:"https://alice.colopl.jp/news/show",target:"_blank",rel:"noopener noreferrer"}},[i("span",{staticClass:"mr-4"},[t._v(t._s(t.Ui.getText("officalannouncement")))]),t._v(" "),i("i",{staticClass:"material-icons text-black-50",staticStyle:{position:"absolute",right:"1rem"}},[t._v("open_in_new")])]),t._v(" "),i("div",{staticClass:"dropdown-divider"}),t._v(" "),i("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.toggleCache()}}},[t._v(t._s(t.Ui.getText(t.cacheDisabled?"enablecache":"disablecache")))])],2)]),t._v(" "),i("li",{staticClass:"nav-item dropdown"},[i("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[i("i",{staticClass:"material-icons"},[t._v("language")]),t._v(" "),i("span",{attrs:{id:"currentLang"}},[t._v(t._s(t.langText))])]),t._v(" "),i("ul",{staticClass:"dropdown-menu dropdown-menu-right"},t._l(t.Ui.supportedLang,(function(e){return i("a",{key:e.key,staticClass:"dropdown-item",attrs:{href:"#!/lang/"+e.key},on:{click:function(i){t.langText=e.text}}},[t._v(t._s(e.text))])})),0)])])])])};l._withStripped=!0;var d=i(2),v={data:function(){return{langText:o.a.getLangText(),isUpdating:!1,isUpdateReady:!1}},created:function(){var t=this;r.a.$on("new-version-updating",(function(){console.log("new-version-updating"),t.isUpdating=!0,t.isUpdateReady=!1})),r.a.$on("new-version-update-ready",(function(){console.log("new-version-update-ready"),t.isUpdating=!1,t.isUpdateReady=!0}))},methods:{toggleCache:function(){if(this.cacheDisabled)return localStorage.MI_Chatnoir_Disable_Cache=!1,void location.reload();confirm(o.a.getText("disablecachewarning"))&&"serviceWorker"in navigator&&navigator.serviceWorker.getRegistration().then((function(t){t&&t.unregister().then((function(t){localStorage.MI_Chatnoir_Disable_Cache=!0,location.reload()}))}))}},computed:{currentServer:function(){return d.Data.getCurrentServer()},allServers:function(){return d.Data.getAllServers()},cacheDisabled:function(){return"true"===localStorage.MI_Chatnoir_Disable_Cache}}};i(51);function u(t,e,i,a,n,s,r,o){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=i,l._compiled=!0),a&&(l.functional=!0),s&&(l._scopeId="data-v-"+s),r?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},l._ssrRegister=c):n&&(c=o?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var d=l.render;l.render=function(t,e){return c.call(e),d(t,e)}}else{var v=l.beforeCreate;l.beforeCreate=v?[].concat(v,c):[c]}return{exports:t,options:l}}var p=u(v,l,[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"pr-2",attrs:{href:"../"}},[e("i",{staticClass:"icon icon-murakumo"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"navbar-brand",attrs:{title:"Murakumo Industries Chatnoir",href:"#"}},[e("span",{staticClass:"d-none d-md-inline-block"},[this._v("Murakumo Industries")]),this._v(" "),e("span",{staticClass:"d-md-none"},[this._v("MI")]),this._v(" "),e("span",[this._v("Chatnoir")]),this._v(" "),e("sup",[this._v("α")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"navbar-nav mr-auto"},[e("li",{staticClass:"nav-item"})])}],!1,null,"65af85a3",null);p.options.__file="src/components/Nav.vue";var h=p.exports,m=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main-container h-100"},[e("ScenarioList"),this._v(" "),e("Scenario")],1)};m._withStripped=!0;var _=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"scenario-list background h-100"},[i("div",{staticClass:"scenario-list-container h-100"},[i("div",t._l(t.list,(function(e){return i("a",{key:e.id,staticClass:"btn btn-secondary btn-block",class:{active:e.id==t.selectedId},attrs:{href:"#!/scenario/"+e.id}},[t._v(t._s(t.Ui.getText(e.nameKey)))])})),0)]),t._v(" "),t.selectedId?i("div",{staticClass:"child-list-container h-100"},[i("ScenarioListChild",{key:t.selectedId,attrs:{list:t.childList,scenarioId:t.scenarioId}})],1):t._e()])};_._withStripped=!0;var f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"scenario-list-child background h-100"},[i("div",{staticClass:"child-container h-100",class:{"no-select":!t.selectedId}},[i("div",{staticClass:"back-button"},[i("button",{staticClass:"btn btn-danger btn-block text-left",attrs:{type:"button"},on:{click:function(e){return t.back()}}},[i("i",{staticClass:"material-icons"},[t._v("arrow_back")]),t._v(" "),i("span",[t._v(t._s(t.Ui.getText("back")))])])]),t._v(" "),i("div",{staticClass:"child-list"},[t._l(t.list,(function(e){return[e.list?i("button",{key:e.id,staticClass:"btn btn-light btn-block",class:{active:e.id==t.selectedId},attrs:{type:"button"},on:{click:function(i){return t.setChild(e)}}},[e.nameKey?i("span",[t._v(t._s(t.Ui.getText(e.nameKey)))]):i("span",[t._v(t._s(e.name))])]):i("a",{key:e.id,staticClass:"btn btn-light btn-block text-left",class:{active:e.id==t.selectedId},attrs:{href:"#!/scenario/"+e.type+"/"+e.id}},[e.nameKey?i("span",[t._v(t._s(t.Ui.getText(e.nameKey)))]):i("span",[t._v(t._s(e.name))]),t._v(" "),i("i",{staticClass:"material-icons float-right"},[t._v("open_in_browser")])])]}))],2)]),t._v(" "),t.selectedId?i("div",{staticClass:"child-child-container h-100"},[i("ScenarioListChild",{key:t.selectedId,attrs:{list:t.childList}})],1):t._e()])};f._withStripped=!0;var g={name:"ScenarioListChild",props:{list:Array,scenarioId:String},created:function(){var t=this;if(this.scenarioId){var e=function(i){for(var a=0;a<i.length;a++){var n=i[a];if(n.list){var s=e(n.list);if(s&&s.id)return n}else if(n.id==t.scenarioId)return n}return{}},i=e(this.list);this.setChild(i)}},data:function(){return{selectedId:"",childList:[]}},methods:{back:function(){this.$parent.selectedId="","ScenarioListChild"!=this.$parent.$options.name&&(location.hash="")},setChild:function(t){this.selectedId=t.id,this.childList=t.list}}},C=(i(52),u(g,f,[],!1,null,"172e5e6e",null));C.options.__file="src/components/ScenarioListChild.vue";var b={created:function(){var t=this;r.a.$on("set-current-scenario",(function(e,i){if(t.selectedId="",e){var a=d.Data.get("scenariolist",e);t.childList=a.list,t.selectedId=a.id,t.scenarioId=i}}))},data:function(){return{list:d.Data.getAll("scenariolist"),selectedId:"",childList:[],scenarioId:""}},components:{ScenarioListChild:C.exports}},y=(i(53),u(b,_,[],!1,null,"0ce00d7e",null));y.options.__file="src/components/ScenarioList.vue";var w=y.exports,S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"scenario bg-dark"},[i("div",{staticClass:"scenario-title bg-secondary text-light px-3 py-1"},[i("span",{staticStyle:{"font-size":"1.5rem","line-height":"2rem"}},[t._v(t._s(t.title))]),t._v(" "),i("span",{staticStyle:{float:"right",cursor:"pointer"},on:{click:function(e){t.isShow=!1}}},[i("i",{staticClass:"material-icons",staticStyle:{"line-height":"2rem"}},[t._v("close")])])]),t._v(" "),i("div",{ref:"main",staticClass:"scenario-item-container"},t._l(t.list,(function(t,e){return i("ScenarioItem",{key:JSON.stringify(t)+e,attrs:{item:t}})})),1)])])};S._withStripped=!0;var x=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[1==t.item.type?i("div",{staticClass:"my-2"},[i("div",{staticClass:"location text-white",domProps:{innerHTML:t._s(t.Ui.renderDesc(t.item.text))}})]):2==t.item.type?i("div",{staticClass:"my-1"},[i("div",{staticClass:"card"},[i("div",{staticClass:"card-body p-1"},[i("ul",{staticClass:"nav nav-pills pb-1"},t._l(t.item.commands,(function(e){return i("li",{key:e.command,staticClass:"nav-item"},[i("a",{class:["nav-link",{active:t.currentCommand==e.command}],attrs:{id:"home-tab",href:"javascript:;"},on:{click:function(i){t.currentCommand=e.command}}},[t._v(t._s(e.command))])])})),0),t._v(" "),i("div",{staticClass:"tab-content bg-dark px-2 py-1"},t._l(t.item.commands,(function(e){return i("div",{key:e.command,class:["tab-pane","fade",{"show active":t.currentCommand==e.command}]},t._l(e.items,(function(t,e){return i("ScenarioItem",{key:e,attrs:{item:t}})})),1)})),0)])])]):3==t.item.type||4==t.item.type?i("div",{staticClass:"narration my-1"},[i("div",{staticClass:"narration-name text-black-50"},[t._v(t._s(t.name))]),t._v(" "),i("div",{staticClass:"d-flex flex-column align-items-center p-2"},[i("span",{style:{fontSize:(t.item.size||1)+"rem"},domProps:{innerHTML:t._s(t.Ui.renderDesc(t.item.text))}})])]):5==t.item.type?i("div",{staticClass:"my-1"},[i("div",{staticClass:"d-flex flex-column align-items-center p-2"},[i("span",{style:{fontSize:(t.item.size||1)+"rem"},domProps:{innerHTML:t._s(t.Ui.renderDesc(t.item.text))}})])]):i("div",{staticClass:"card my-1 d-inline-block"},[i("div",{staticClass:"card-body p-0"},[i("div",{staticClass:"media"},[t.iconPath?i("img",{staticClass:"mr-3",staticStyle:{width:"8rem",height:"8rem"},attrs:{src:t.iconPath,alt:t.name}}):t._e(),t._v(" "),i("div",{staticClass:"media-body mr-3"},[t.name?i("h5",{staticClass:"mt-1",staticStyle:{"border-bottom":"1px solid black"}},[t._v(t._s(t.name))]):t._e(),t._v(" "),i("div",{style:{fontSize:(t.item.size||1)+"rem"},domProps:{innerHTML:t._s(t.Ui.renderDesc(t.item.text))}})])])])])])};x._withStripped=!0;var k={name:"ScenarioItem",props:{item:Object},data:function(){return{currentCommand:2==this.item.type?this.item.commands[0].command:""}},computed:{chara:function(){return this.item.chara&&d.Data.get("chara",this.item.chara)||{}},name:function(){return this.chara.id?this.item.charaNameOverride?(d.Data.get("chara",this.item.charaNameOverride)||{}).name||"？？？override"+this.item.charaNameOverride:this.chara.name||"？？？"+this.item.chara:""},icon:function(){return this.chara.id&&(this.chara.icon2||this.chara.icon)||""},iconPath:function(){return this.icon?this.icon.startsWith("npc")?"../img/scenarioicon/"+this.icon+".png":"../img/chara/"+this.icon+".png":""}}},I=(i(54),u(k,x,[],!1,null,"02da9573",null));I.options.__file="src/components/ScenarioItem.vue";var U={data:function(){return{isShow:!1,type:"",id:0}},created:function(){var t=this;r.a.$on("set-current-scenario",(function(e,i){t.isShow=!!e&&!!i,t.type=e,t.id=i,t.$nextTick((function(){t.$refs.main.scrollTop=0}))}))},methods:{},computed:{title:function(){if(!this.type||!this.id)return"";var t=this,e=d.Data.get("scenariolist",t.type),i=function(e){for(var a=0;a<e.length;a++){var n=e[a];if(n.list){var s=i(n.list);if(s&&s.id)return s}else if(n.type==t.type&&n.id==t.id)return n}return{}};return i(e.list).name},list:function(){return this.type&&this.id?d.Data.getAll("scenario_"+this.type)[this.id]:[]}},components:{ScenarioItem:I.exports}},$=(i(55),u(U,S,[],!1,null,"288d6880",null));$.options.__file="src/components/Scenario.vue";var T={data:function(){return{}},created:function(){r.a.$on("render",(function(t,e){r.a.$emit("set-current-scenario",t,e)}))},computed:{},components:{ScenarioList:w,Scenario:$.exports}},L=(i(56),u(T,m,[],!1,null,"ad1bb59c",null));L.options.__file="src/components/Chatnoir.vue";var D=u({components:{Nav:h,Chatnoir:L.exports}},c,[],!1,null,null,null);D.options.__file="src/App.vue";var E,N=D.exports;i.d(e,"init",(function(){return R}));var R=function(t,e){n.a.start(),M(),n.a.set(.3),z(),n.a.set(.6),A(t,e),n.a.done()},M=function(){},z=function(){E||(document.getElementsByTagName("body")[0].setAttribute("lang",o.a.getLang()),new s.a({el:"#app",render:function(t){return t("App")},components:{App:N}}),E=!0)},A=function(t,e){r.a.$emit("render",t,e)};e.default={init:R}}}]);